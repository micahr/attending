<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Attending</title>
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/bootswatch.min.css">
  <link rel="stylesheet" href="/css/bootstrap-responsive.min.css">
  <link rel="stylesheet" href="/css/style.css">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <script type="text/x-handlebars">
    <div class="navbar navbar-static-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

          {{#linkTo index class="brand"}}Attending{{/linkTo}}
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li>{{#linkTo events }}Events{{/linkTo}}</li>
              <li>{{#linkTo events.new }}New Event{{/linkTo}}</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="container main-content">
      {{outlet}}
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name="index">
    <div class="row-fluid">
      <div class="span12">
        <p>
        Feel like attending an event? {{#linkTo events }} See All Events{{/linkTo}}
        </p>
        <p>How about creating one? {{#linkTo events.new }}Create Event{{/linkTo}}</p>
      </div>
    </div>
  </script>
  <script type="text/x-handlebars" data-template-name="events/index">
    <div class="row-fluid">
      <div class="span12">
        <h3>Events</h3>
        <ul>
          {{#each item in model}}
          <li>{{#linkTo event item}}{{item.name}} - {{item.formattedDate}}{{/linkTo}}</li>
          {{/each}}
        </ul>
      </div>
    </div>
  </script>
  <script type="text/x-handlebars" data-template-name="events/new">
    <h3>Create Event</h3>
    {{partial "event"}}
    <p>
      <button class="btn btn-success" id="event-create" {{action 'createEvent'}} >Create New Event</button>
    </p>
  </script>
  <script type="text/x-handlebars" data-template-name="_event">
    <label for="event-name">Name</label>{{view Ember.TextField id="event-name" valueBinding="name" }}
    <label for="event-date">Date</label>{{view Ember.TextField id="event-date" valueBinding="date"}}
  </script>
  <script type="text/x-handlebars" data-template-name="event/edit">
    <h3>Edit Event</h3>
    {{partial "event"}}
    <p>
      <button class="btn btn-success" id="event-edit" {{action 'saveEvent'}} >Save Event</button>
      <button class="btn btn-danger" id="event-cancel" {{action 'cancelEvent'}}>Cancel</button>
    </p>
  </script>
  <script type="text/x-handlebars" data-template-name="event">
    <div class="row-fluid">
      <div class="span8">
        <h1>{{name}}</h1>
        {{formattedDate}}
        <p>{{#linkTo event.edit}}Edit{{/linkTo}}</p>
      </div>
      <div class="span4">
        {{outlet}}
      </div>
    </div>

  </script>

  <script src="https://cdn.firebase.com/v0/firebase.js"></script>
  <script src="/js/libs/jquery-1.9.1.js"></script>
  <script src="/js/libs/handlebars-1.0.0-rc.3.js"></script>
  <script src="/js/libs/bootstrap.min.js"></script>
  <script src="/js/libs/ember-1.0.0-rc.3.js"></script>
  <script src="/js/libs/ember-data-latest.js"></script>
  <script src="/js/libs/firebase_adapter.js"></script>
  <script src="/js/libs/moment.min.js"></script>
  <script src="/js/app.js"></script>

</body>
</html>
